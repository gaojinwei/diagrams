<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1627px" height="1489px" viewBox="-0.5 -0.5 1627 1489" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2020-12-28T08:13:41.770Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36&quot; etag=&quot;VMKzeuK8LjuL70p9DdsF&quot; version=&quot;14.1.2&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;IMzVq4Pmhw6wXv7U2WHX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/#Hgaojinwei%2Fdiagrams%2Fmain%2FG6%2Fcanvas-renderer-draw%E6%B5%81%E7%A8%8B.svg"><defs/><g><path d="M 728 1155 L 615 1155 L 615 1463 L 716.63 1463" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 721.88 1463 L 714.88 1466.5 L 716.63 1463 L 714.88 1459.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 800 1172 L 800 1199 L 800 1245.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 800 1250.88 L 796.5 1243.88 L 800 1245.63 L 803.5 1243.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="728" y="1112" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1142px; margin-left: 729px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">第一层goup调g-canvas/src/group<br />的draw，绘图区域会传下去</div></div></div></foreignObject><text x="788" y="1146" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">第一层goup调g-canvas/src/gro...</text></switch></g><path d="M 848 1142 L 888 1142 L 921.63 1142" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 926.88 1142 L 919.88 1145.5 L 921.63 1142 L 919.88 1138.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1048 1164 L 1076 1164 L 1120.63 1164" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1125.88 1164 L 1118.88 1167.5 L 1120.63 1164 L 1118.88 1160.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 988 1112 L 988 1043 L 787 1043 L 787 1101.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 787 1106.88 L 783.5 1099.88 L 787 1101.63 L 790.5 1099.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1043px; margin-left: 889px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">shape draw完回到group draw</div></div></div></foreignObject><text x="889" y="1046" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">shape draw完回到group draw</text></switch></g><path d="M 1048 1126 L 1106 1126 L 1106 1012 L 1134.63 1012" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1139.88 1012 L 1132.88 1015.5 L 1134.63 1012 L 1132.88 1008.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="928" y="1112" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1142px; margin-left: 929px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">最终调<span class="mm-editor-clipboard">g-canvas/shape/base  draw</span></div></div></div></foreignObject><text x="988" y="1146" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">最终调g-canvas/shape/base...</text></switch></g><path d="M 1247 1165 L 1355 1165 L 1355 1227.5 L 1456.63 1227.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1461.88 1227.5 L 1454.88 1231 L 1456.63 1227.5 L 1454.88 1224 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1127" y="1135" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1165px; margin-left: 1128px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果是全局渲染，所有shape都画，draw最后_afterDraw</div></div></div></foreignObject><text x="1187" y="1169" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是全局渲染，所有shape都画，draw最后_afterDraw</text></switch></g><rect x="1463" y="1132" width="163" height="191" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 161px; height: 1px; padding-top: 1228px; margin-left: 1464px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">g-canvas/shape/base _afterDraw调cacheCanvasBBox，标记isInView，就是看canvasBBox是否与canvas画布有交集，如果isInView，cacheCanvasBBox属性缓存canvasBBox。cacheCanvasBBox方法调用结束，cfg hasChanged属性置为false，refresh置为null<br /> </div></div></div></foreignObject><text x="1545" y="1231" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g-canvas/shape/base _afterD...</text></switch></g><path d="M 848 1282 L 1003 1282 L 1003 1322.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1003 1327.88 L 999.5 1320.88 L 1003 1322.63 L 1006.5 1320.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="728" y="1252" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1282px; margin-left: 729px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果是全局渲染或者是局部渲染且group cfg refresh为true</div></div></div></foreignObject><text x="788" y="1286" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是全局渲染或者是局部渲染且group cfg refresh为true</text></switch></g><path d="M 1038 1408 L 1038 1471 L 855.37 1471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 850.12 1471 L 857.12 1467.5 L 855.37 1471 L 857.12 1474.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="900" y="1329" width="206" height="79" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 1369px; margin-left: 901px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果有children，drawChildren，然后调cacheCanvasBBox，缓存canvasBBox</div></div></div></foreignObject><text x="1003" y="1372" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果有children，drawChildren，然后调cacheCanvasBBo...</text></switch></g><rect x="728" y="1428" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1458px; margin-left: 729px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">draw最后cfg的refresh置为null，hasChanged置为false</div></div></div></foreignObject><text x="788" y="1462" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">draw最后cfg的refresh置为null，ha...</text></switch></g><path d="M 120 731.5 L 176.63 731.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 181.88 731.5 L 174.88 735 L 176.63 731.5 L 174.88 728 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="701.5" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 732px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">g/g-canvas/canvas  _startDraw</div></div></div></foreignObject><text x="60" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g/g-canvas/canvas  _...</text></switch></g><path d="M 342 731.51 L 413.63 731.51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 418.88 731.51 L 411.88 735.01 L 413.63 731.51 L 411.88 728.01 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 262.5 814.38 L 262.5 862.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 262.5 867.88 L 259 860.88 L 262.5 862.63 L 266 860.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="183" y="648.63" width="159" height="165.75" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 157px; height: 1px; padding-top: 732px; margin-left: 184px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果是局部渲染（默认行为），_drawRegion，此处用requestAnimationFrame，此后的代码多次触发canvas draw并不会多次重绘，只是更新canvas refreshElements属性，最后callback执行，一次画出最终结果</div></div></div></foreignObject><text x="263" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是局部渲染（默认行为），_drawRegion，此处用requestAnimatio...</text></switch></g><path d="M 553 731.5 L 620.63 731.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 625.88 731.5 L 618.88 735 L 620.63 731.5 L 618.88 728 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="420" y="643.5" width="133" height="176" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 131px; height: 1px; padding-top: 732px; margin-left: 421px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取所有需要绘制元素的整体canvas包围盒，擦除刷新队列的所以元素组成的canvas包围盒（如果不是第一次draw，包围盒merge了之前区域和当前会占据的区域）。默认clipView，即超出canvas元素的区域不会绘制</div></div></div></foreignObject><text x="487" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取所有需要绘制元素的整体canvas包围盒，擦除刷新队列的所以元素组成的canvas包围盒（如果不是第一次draw，包围盒merge了之前区域和当前会占据的区域）。默认c...</text></switch></g><path d="M 747 731.5 L 803 731.5 L 812.63 731.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 817.88 731.5 L 810.88 735 L 812.63 731.5 L 810.88 728 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 687 761.5 L 687 949 L 520 949 L 520 1136.7 L 717.91 1136.66" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 723.16 1136.66 L 716.16 1140.16 L 717.91 1136.66 L 716.16 1133.16 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="627" y="701.5" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 732px; margin-left: 628px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">g/g-canvas/util/draw checkRefresh</div></div></div></foreignObject><text x="687" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g/g-canvas/util/draw...</text></switch></g><path d="M 939 731 L 999.63 731" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1004.88 731 L 997.88 734.5 L 999.63 731 L 997.88 727.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 879 684 L 879 593.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879 588.12 L 882.5 595.12 L 879 593.37 L 875.5 595.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="819" y="684" width="120" height="94" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 731px; margin-left: 820px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">首先当子元素在刷新列表中，则需要把父元素cfg refresh也设为true，因为最终draw是从父开始</div></div></div></foreignObject><text x="879" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">首先当子元素在刷新列表中，则需要把父元素cfg refresh也设为true，因为最终draw是从父开始</text></switch></g><path d="M 1134 710.5 L 1285 710.5 L 1285 653.87" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1285 648.62 L 1288.5 655.62 L 1285 653.87 L 1281.5 655.62 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1134 723.5 L 1257 723.5 L 1338.63 723.54" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1343.88 723.54 L 1336.88 727.04 L 1338.63 723.54 L 1336.88 720.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1134 752 L 1277 752 L 1277 813.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1277 818.88 L 1273.5 811.88 L 1277 813.63 L 1280.5 811.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1006" y="700.5" width="128" height="61" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 126px; height: 1px; padding-top: 731px; margin-left: 1007px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">接着checkChildrenRefresh</div></div></div></foreignObject><text x="1070" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">接着checkChildrenRefresh</text></switch></g><rect x="1236" y="587.5" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 618px; margin-left: 1237px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果parent refresh为true，则其children refresh全设为true</div></div></div></foreignObject><text x="1296" y="621" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果parent refresh为true，则其ch...</text></switch></g><rect x="1343" y="690" width="219" height="87" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 217px; height: 1px; padding-top: 734px; margin-left: 1344px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果parent hasChanged为true，则其本身及其children refresh都设为true，目前认为基本都只走该分支，没看到哪里设refresh为true</div></div></div></foreignObject><text x="1453" y="737" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果parent hasChanged为true，则其本身及其children refres...</text></switch></g><rect x="1217" y="820" width="120" height="79" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 860px; margin-left: 1218px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果refresh和hasChanged都不是true，则看cacheCanvasBBox和绘图区域是否相交</div></div></div></foreignObject><text x="1277" y="863" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果refresh和hasChanged都不是tru...</text></switch></g><path d="M 879 527 L 879 451.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879 446.12 L 882.5 453.12 L 879 451.37 L 875.5 453.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="819" y="527" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 557px; margin-left: 820px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">刷新队列哪里来的？</div></div></div></foreignObject><text x="879" y="561" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">刷新队列哪里来的？</text></switch></g><path d="M 879 347 L 879 264.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879 259.12 L 882.5 266.12 L 879 264.37 L 875.5 266.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="785" y="347" width="188" height="98" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 186px; height: 1px; padding-top: 396px; margin-left: 786px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span class="mm-editor-clipboard"><span class="mm-editor-clipboard">g/g-base/abstract/container，</span>最后一层group添加shape：</span>addShape，<span class="mm-editor-clipboard">canvas添加group以及group添加group：</span>addGroup，<span class="mm-editor-clipboard">最终都会调add</span></div></div></div></foreignObject><text x="879" y="400" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g/g-base/abstract/container，最后一层grou...</text></switch></g><path d="M 879 171 L 879 112.87" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879 107.62 L 882.5 114.62 L 879 112.87 L 875.5 114.62 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="753" y="171" width="252" height="87" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 215px; margin-left: 754px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">触发<span class="mm-editor-clipboard">g/g-canvas/group  </span><span class="mm-editor-clipboard">onCanvasChange</span>('add') 或g/g-canvas/shape/base  onCanvasChange</div></div></div></foreignObject><text x="879" y="218" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">触发g/g-canvas/group  onCanvasChange('add') 或g/...</text></switch></g><rect x="801" y="0" width="156" height="106.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 154px; height: 1px; padding-top: 53px; margin-left: 802px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span class="mm-editor-clipboard">g/g-canvas/util/draw  </span>refreshElement  可能修改元素hasChanged并添加到刷新队列</div></div></div></foreignObject><text x="879" y="57" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g/g-canvas/util/draw  refr...</text></switch></g><path d="M 1261 1016 L 1363 1016 L 1450.63 1016" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1455.88 1016 L 1448.88 1019.5 L 1450.63 1016 L 1448.88 1012.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1261 991 L 1310 991 L 1310 944 L 1435.63 944" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1440.88 944 L 1433.88 947.5 L 1435.63 944 L 1433.88 940.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1201 1028 L 1201 1056 L 1359 1056 L 1359 1078.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1359 1083.88 L 1355.5 1076.88 L 1359 1078.63 L 1362.5 1076.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1141" y="968" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 998px; margin-left: 1142px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果是局部渲染</div></div></div></foreignObject><text x="1201" y="1002" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是局部渲染</text></switch></g><path d="M 1517 1046 L 1517 1089 L 1517.1 1089 L 1517.11 1126.4" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1517.12 1131.65 L 1513.61 1124.65 L 1517.11 1126.4 L 1520.61 1124.64 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1089px; margin-left: 1517px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">如果isInView</div></div></div></foreignObject><text x="1517" y="1092" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">如果isInView</text></switch></g><rect x="1457" y="986" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1016px; margin-left: 1458px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">refresh为true，但跟绘图区域不相交，也不画，hasChanged置false</div></div></div></foreignObject><text x="1517" y="1020" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">refresh为true，但跟绘图区域不相交，也不画，hasChange...</text></switch></g><rect x="1442" y="914" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 944px; margin-left: 1443px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>shape refresh为false，则不会画，hasChanged置false</span></div></div></div></foreignObject><text x="1502" y="948" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">shape refresh为false，则不会画，ha...</text></switch></g><rect x="202.5" y="869" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 899px; margin-left: 204px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">绘制完毕，canvas cfg refreshElements重置为空数组</div></div></div></foreignObject><text x="263" y="903" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">绘制完毕，canvas cfg refreshEl...</text></switch></g><path d="M 1402 1145 L 1402 1187.4 L 1456.31 1187.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1461.56 1187.39 L 1454.56 1190.89 L 1456.31 1187.39 L 1454.56 1183.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1299" y="1085" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1115px; margin-left: 1300px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">否则需要画该shape，g-canvas/shape/base  <br />drawPath</div></div></div></foreignObject><text x="1359" y="1119" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">否则需要画该shape，g-canvas/shape/...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>