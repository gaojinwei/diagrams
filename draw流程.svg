<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1628px" height="1489px" viewBox="-0.5 -0.5 1628 1489" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2020-12-28T07:57:55.825Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36&quot; etag=&quot;XZUqnK4-UpKg2b4JW0s0&quot; version=&quot;14.1.2&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;IMzVq4Pmhw6wXv7U2WHX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/#Hgaojinwei%2Fdiagrams%2Fmain%2Fdraw%E6%B5%81%E7%A8%8B.svg"><defs/><g><path d="M 728 1155 L 615 1155 L 615 1463 L 716.63 1463" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 721.88 1463 L 714.88 1466.5 L 716.63 1463 L 714.88 1459.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 800 1172 L 800 1199 L 800 1245.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 800 1250.88 L 796.5 1243.88 L 800 1245.63 L 803.5 1243.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="728" y="1112" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1142px; margin-left: 729px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">第一层goup调g-canvas/src/group<br />的draw，绘图区域会传下去</div></div></div></foreignObject><text x="788" y="1146" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">第一层goup调g-canvas/src/gro...</text></switch></g><path d="M 848 1142 L 888 1142 L 921.63 1142" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 926.88 1142 L 919.88 1145.5 L 921.63 1142 L 919.88 1138.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1048 1164 L 1076 1164 L 1120.63 1164" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1125.88 1164 L 1118.88 1167.5 L 1120.63 1164 L 1118.88 1160.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 988 1112 L 988 1043 L 787 1043 L 787 1101.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 787 1106.88 L 783.5 1099.88 L 787 1101.63 L 790.5 1099.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1043px; margin-left: 890px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">shape draw完回到group draw</div></div></div></foreignObject><text x="890" y="1046" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">shape draw完回到group draw</text></switch></g><path d="M 1048 1126 L 1106 1126 L 1106 1012 L 1134.63 1012" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1139.88 1012 L 1132.88 1015.5 L 1134.63 1012 L 1132.88 1008.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="928" y="1112" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1142px; margin-left: 929px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">最终调<span class="mm-editor-clipboard">g-canvas/shape/base  draw</span></div></div></div></foreignObject><text x="988" y="1146" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">最终调g-canvas/shape/base...</text></switch></g><path d="M 1247 1165 L 1355 1165 L 1355 1227.5 L 1456.63 1227.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1461.88 1227.5 L 1454.88 1231 L 1456.63 1227.5 L 1454.88 1224 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1127" y="1135" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1165px; margin-left: 1128px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果是全局渲染，所有shape都画，draw最后_afterDraw</div></div></div></foreignObject><text x="1187" y="1169" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是全局渲染，所有shape都画，draw最后_afterDraw</text></switch></g><rect x="1463" y="1132" width="163" height="191" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 161px; height: 1px; padding-top: 1228px; margin-left: 1464px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">g-canvas/shape/base _afterDraw调cacheCanvasBBox，标记isInView，就是看canvasBBox是否与canvas画布有交集，如果isInView，cacheCanvasBBox属性缓存canvasBBox。cacheCanvasBBox方法调用结束，cfg hasChanged属性置为false，refresh置为null<br /> </div></div></div></foreignObject><text x="1545" y="1231" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g-canvas/shape/base _afterD...</text></switch></g><path d="M 848 1282 L 1003 1282 L 1003 1322.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1003 1327.88 L 999.5 1320.88 L 1003 1322.63 L 1006.5 1320.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="728" y="1252" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1282px; margin-left: 729px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果是全局渲染或者是局部渲染且group cfg refresh为true</div></div></div></foreignObject><text x="788" y="1286" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是全局渲染或者是局部渲染且group cfg refresh为true</text></switch></g><path d="M 1038 1408 L 1038 1471 L 855.37 1471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 850.12 1471 L 857.12 1467.5 L 855.37 1471 L 857.12 1474.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="900" y="1329" width="206" height="79" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 1369px; margin-left: 901px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果有children，drawChildren，然后调cacheCanvasBBox，缓存canvasBBox</div></div></div></foreignObject><text x="1003" y="1372" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果有children，drawChildren，然后调cacheCanvasBBo...</text></switch></g><rect x="728" y="1428" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1458px; margin-left: 729px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">draw最后cfg的refresh置为null，hasChanged置为false</div></div></div></foreignObject><text x="788" y="1462" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">draw最后cfg的refresh置为null，ha...</text></switch></g><path d="M 120 731.5 L 176.63 731.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 181.88 731.5 L 174.88 735 L 176.63 731.5 L 174.88 728 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="701.5" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 732px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">g/g-canvas/canvas  _startDraw</div></div></div></foreignObject><text x="60" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g/g-canvas/canvas  _...</text></switch></g><path d="M 342 731.51 L 413.63 731.51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 418.88 731.51 L 411.88 735.01 L 413.63 731.51 L 411.88 728.01 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 262.5 814.38 L 262.5 862.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 262.5 867.88 L 259 860.88 L 262.5 862.63 L 266 860.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="183" y="648.63" width="159" height="165.75" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 157px; height: 1px; padding-top: 732px; margin-left: 184px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果是局部渲染（默认行为），_drawRegion，此处用requestAnimationFrame，此后的代码多次触发canvas draw并不会多次重绘，只是更新canvas refreshElements属性，最后callback执行，一次画出最终结果</div></div></div></foreignObject><text x="263" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是局部渲染（默认行为），_drawRegion，此处用requestAnimatio...</text></switch></g><path d="M 553 731.5 L 620.63 731.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 625.88 731.5 L 618.88 735 L 620.63 731.5 L 618.88 728 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="420" y="643.5" width="133" height="176" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 131px; height: 1px; padding-top: 731px; margin-left: 421px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取所有需要绘制元素的整体canvas包围盒，擦除刷新队列的所以元素组成的canvas包围盒（如果不是第一次draw，包围盒merge了之前区域和当前会占据的区域）。默认clipView，即超出canvas元素的区域不会绘制</div></div></div></foreignObject><text x="487" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取所有需要绘制元素的整体canvas包围盒，擦除刷新队列的所以元素组成的canvas包围盒（如果不是第一次draw，包围盒merge了之前区域和当前会占据的区域）。默认c...</text></switch></g><path d="M 747 731.5 L 803 731.5 L 812.63 731.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 817.88 731.5 L 810.88 735 L 812.63 731.5 L 810.88 728 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 687 761.5 L 687 949 L 520 949 L 520 1136.67 L 717.91 1136.66" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 723.16 1136.66 L 716.16 1140.16 L 717.91 1136.66 L 716.16 1133.16 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="627" y="701.5" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 732px; margin-left: 628px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">g/g-canvas/util/draw checkRefresh</div></div></div></foreignObject><text x="687" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g/g-canvas/util/draw...</text></switch></g><path d="M 939 731 L 999.63 731" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1004.88 731 L 997.88 734.5 L 999.63 731 L 997.88 727.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 879 684 L 879 593.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879 588.12 L 882.5 595.12 L 879 593.37 L 875.5 595.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="819" y="684" width="120" height="94" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 731px; margin-left: 820px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">首先当子元素在刷新列表中，则需要把父元素cfg refresh也设为true，因为最终draw是从父开始</div></div></div></foreignObject><text x="879" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">首先当子元素在刷新列表中，则需要把父元素cfg refresh也设为true，因为最终draw是从父开始</text></switch></g><path d="M 1134 710.5 L 1285 710.5 L 1285 653.87" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1285 648.62 L 1288.5 655.62 L 1285 653.87 L 1281.5 655.62 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1134 723.5 L 1257 723.5 L 1338.63 723.54" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1343.88 723.54 L 1336.88 727.04 L 1338.63 723.54 L 1336.88 720.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1134 752 L 1277 752 L 1277 813.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1277 818.88 L 1273.5 811.88 L 1277 813.63 L 1280.5 811.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1006" y="700.5" width="128" height="61" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 126px; height: 1px; padding-top: 731px; margin-left: 1007px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">接着checkChildrenRefresh</div></div></div></foreignObject><text x="1070" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">接着checkChildrenRefresh</text></switch></g><rect x="1236" y="587.5" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 618px; margin-left: 1237px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果parent refresh为true，则其children refresh全设为true</div></div></div></foreignObject><text x="1296" y="621" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果parent refresh为true，则其ch...</text></switch></g><rect x="1343" y="690" width="219" height="87" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 217px; height: 1px; padding-top: 734px; margin-left: 1344px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果parent hasChanged为true，则其本身及其children refresh都设为true，目前认为基本都只走该分支，没看到哪里设refresh为true</div></div></div></foreignObject><text x="1453" y="737" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果parent hasChanged为true，则其本身及其children refres...</text></switch></g><rect x="1217" y="820" width="120" height="79" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 860px; margin-left: 1218px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果refresh和hasChanged都不是true，则看cacheCanvasBBox和绘图区域是否相交</div></div></div></foreignObject><text x="1277" y="863" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果refresh和hasChanged都不是tru...</text></switch></g><path d="M 879 527 L 879 451.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879 446.12 L 882.5 453.12 L 879 451.37 L 875.5 453.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="819" y="527" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 557px; margin-left: 820px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">刷新队列哪里来的？</div></div></div></foreignObject><text x="879" y="561" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">刷新队列哪里来的？</text></switch></g><path d="M 879 347 L 879 264.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879 259.12 L 882.5 266.12 L 879 264.37 L 875.5 266.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="785" y="347" width="188" height="98" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 186px; height: 1px; padding-top: 396px; margin-left: 786px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span class="mm-editor-clipboard"><span class="mm-editor-clipboard">g/g-base/abstract/container，</span>最后一层group添加shape：</span>addShape，<span class="mm-editor-clipboard">canvas添加group以及group添加group：</span>addGroup，<span class="mm-editor-clipboard">最终都会调add</span></div></div></div></foreignObject><text x="879" y="400" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g/g-base/abstract/container，最后一层grou...</text></switch></g><path d="M 879 171 L 879 112.87" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 879 107.62 L 882.5 114.62 L 879 112.87 L 875.5 114.62 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="753" y="171" width="252" height="87" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 250px; height: 1px; padding-top: 215px; margin-left: 754px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">触发<span class="mm-editor-clipboard">g/g-canvas/group  </span><span class="mm-editor-clipboard">onCanvasChange</span>('add') 或g/g-canvas/shape/base  onCanvasChange</div></div></div></foreignObject><text x="879" y="218" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">触发g/g-canvas/group  onCanvasChange('add') 或g/...</text></switch></g><rect x="801" y="0" width="156" height="106.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 154px; height: 1px; padding-top: 53px; margin-left: 802px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span class="mm-editor-clipboard">g/g-canvas/util/draw  </span>refreshElement  可能修改元素hasChanged并添加到刷新队列</div></div></div></foreignObject><text x="879" y="57" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">g/g-canvas/util/draw  refr...</text></switch></g><path d="M 1261 1016 L 1363 1016 L 1450.63 1016" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1455.88 1016 L 1448.88 1019.5 L 1450.63 1016 L 1448.88 1012.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1261 991 L 1310 991 L 1310 944 L 1435.63 944" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1440.88 944 L 1433.88 947.5 L 1435.63 944 L 1433.88 940.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1201 1028 L 1201 1056 L 1359 1056 L 1359 1078.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1359 1083.88 L 1355.5 1076.88 L 1359 1078.63 L 1362.5 1076.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1141" y="968" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 998px; margin-left: 1142px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果是局部渲染</div></div></div></foreignObject><text x="1201" y="1002" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是局部渲染</text></switch></g><path d="M 1517 1046 L 1517 1089 L 1517.08 1089 L 1517.11 1126.4" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1517.12 1131.65 L 1513.61 1124.65 L 1517.11 1126.4 L 1520.61 1124.64 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1089px; margin-left: 1517px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">如果isInView</div></div></div></foreignObject><text x="1517" y="1093" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">如果isInView</text></switch></g><rect x="1457" y="986" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1016px; margin-left: 1458px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">refresh为true，但跟绘图区域不相交，也不画，hasChanged置false</div></div></div></foreignObject><text x="1517" y="1020" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">refresh为true，但跟绘图区域不相交，也不画，hasChange...</text></switch></g><rect x="1442" y="914" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 944px; margin-left: 1443px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>shape refresh为false，则不会画，hasChanged置false</span></div></div></div></foreignObject><text x="1502" y="948" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">shape refresh为false，则不会画，ha...</text></switch></g><rect x="202.5" y="869" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 899px; margin-left: 204px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">绘制完毕，canvas cfg refreshElements重置为空数组</div></div></div></foreignObject><text x="263" y="903" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">绘制完毕，canvas cfg refreshEl...</text></switch></g><path d="M 1402 1145 L 1402 1187.42 L 1456.31 1187.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1461.56 1187.39 L 1454.56 1190.89 L 1456.31 1187.39 L 1454.55 1183.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1299" y="1085" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1115px; margin-left: 1300px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">否则需要画该shape，g-canvas/shape/base  <br />drawPath</div></div></div></foreignObject><text x="1359" y="1119" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">否则需要画该shape，g-canvas/shape/...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>